.open database.db
PRAGMA foreign_keys=ON;
DROP TABLE IF EXISTS tblStudente;
CREATE TABLE tblStudente(Matricola TEXT primary key NOT NULL,Nome TEXT NOT NULL,Cognome TEXT NOT NULL,eta INTEGER NOT NULL,IdCredenziali INTEGER NOT NULL,FOREIGN KEY(IdCredenziali) REFERENCES tblCredenziali(ID),UNIQUE(Nome,Cognome),CHECK (eta BETWEEN 13 AND 25));
DROP TABLE IF EXISTS tblDocente;
CREATE TABLE tblDocente(CodFis TEXT primary key NOT NULL,Nome TEXT NOT NULL,Cognome TEXT NOT NULL,età INTEGER NOT NULL,IdCredenziali INTEGER NOT NULL,FOREIGN KEY(IdCredenziali) REFERENCES tblCredenziali(ID),UNIQUE(Nome,Cognome),CHECK (età BETWEEN 25 AND 80));
DROP TABLE IF EXISTS tblInterrogazione;
CREATE TABLE tblInterrogazione(ID INTEGER primary key AUTOINCREMENT NOT NULL,Girone INTEGER NOT NULL,Matricola TEXT NOT NULL,Giorno TEXT NOT NULL,FOREIGN KEY(Matricola) REFERENCES tblStudente(Matricola),FOREIGN KEY(Giorno) REFERENCES tblGiornata(Giorno));
DROP TABLE IF EXISTS tblGiornata;
CREATE TABLE tblGiornata(Giorno TEXT PRIMARY KEY NOT NULL,Posti INTEGER NOT NULL,CHECK (Posti BETWEEN 1 AND 3));
DROP TABLE IF EXISTS tblCredenziali;
CREATE TABLE tblCredenziali(ID INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,Username TEXT NOT NULL UNIQUE,Password TEXT NOT NULL);
